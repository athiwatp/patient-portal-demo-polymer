<html><head></head><body><dom-module id="vaadin-grid-table-scroll-styles">
  <template>
    <style>
      :host {
        transform: translateZ(0);
      }

      thead {
        position: absolute;
        top: 0;
        width: 100%;
      }

      tfoot {
        position: absolute;
        bottom: 0;
        width: 100%;
      }

      tbody {
        z-index: -1;
      }

      table {
        position: relative;
        overflow: auto;
        -webkit-overflow-scrolling: touch;
        z-index: -2;

        /* translate Z needed to be applied to keep scroll bars from disappearing
        when scrolling on desktop Safari.
        Also, this rule can't be applied on mobile
        Safari to keep scroll bars visible in there :-) */
        transform: translateZ(0);
      }

      :host([ios]) table {
        transform: none;
      }

      :host([fixed-sections]) {
        /* Any value other than ‘none’ for the transform results in the creation of both a stacking context and
        a containing block. The object acts as a containing block for fixed positioned descendants. */
        transform: translateZ(0);
        overflow: hidden;
      }

      :host([fixed-sections]) thead,
      :host([fixed-sections]) tfoot {
        position: fixed;
      }

      :host([fixed-sections]) tbody#items {
        position: fixed;
        width: 100%;
        will-change: transform;
      }

      :host([fixed-sections]) table {
        transform: none;
      }

    </style>
  </template>
</dom-module>

<script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.TableScrollBehavior={properties:{_vidxOffset:{value:0},ios:{value:navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),reflectToAttribute:!0},fixedSections:{type:Boolean,reflectToAttribute:!0,computed:"_hasFixedSections(scrollbarWidth)"},_frozenCells:{type:Array,value:function(){return[]}}},listeners:{"table.wheel":"_onWheel"},ready:function(){this.scrollTarget=this.$.table},_hasFixedSections:function(t){return navigator.userAgent.match(/Edge/)&&0===t},_onWheel:function(t){var e=this.$.table;(t.deltaY>0&&e.scrollTop<e.scrollHeight-e.offsetHeight||t.deltaY<0&&e.scrollTop>0||t.deltaX>0&&e.scrollLeft<e.scrollWidth-e.offsetWidth||t.deltaX<0&&e.scrollLeft>0)&&(t.preventDefault(),e.scrollTop+=t.deltaY,e.scrollLeft+=t.deltaX,this._scrollHandler())},_adjustVirtualIndexOffset:function(t){if(Math.abs(t)>1e4){if(this._noScale)return void(this._noScale=!1);var e=Math.round(this._scrollPosition/this._scrollHeight*1e3)/1e3,s=e*this.size;this._vidxOffset=Math.round(s-e*this._virtualCount),0===this._scrollTop&&this.scrollToIndex(0)}else{var i=this._vidxOffset||0,l=1e3,r=100;0===this._scrollTop?(this._vidxOffset=0,i!==this._vidxOffset&&this.scrollToIndex(0)):this.firstVisibleIndex<l&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,r),this.scrollToIndex(this.firstVisibleIndex+(i-this._vidxOffset)+1),this._noScale=!0);var o=this.size-this._virtualCount;this._scrollTop>=this._maxScrollTop?(this._vidxOffset=o,i!==this._vidxOffset&&this.scrollToIndex(this._virtualCount)):this.firstVisibleIndex>this._virtualCount-l&&this._vidxOffset<o&&(this._vidxOffset+=Math.min(o-this._vidxOffset,r),this.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-i)),this._noScale=!0)}},_scheduleReorder:function(){this.debounce("reorderrows",function(){var t=Polymer.dom(this.$.items),e=t.querySelectorAll("tr"),s=this._virtualStart+this._vidxOffset,i=e.length-(e[0].index-s);if(i<e.length/2)for(var l=0;l<i;l++)t.appendChild(e[l]);else for(var r=i;r<e.length;r++)t.insertBefore(e[r],e[0])},100)},_frozenCellsChanged:function(){this.debounce("cache-elements",function(){Polymer.dom(this.root).querySelectorAll("td, th").forEach(function(t){t.style.transform=""}),this._frozenCells=Polymer.dom(this.root).querySelectorAll("[frozen]"),this._translateStationaryElements()}),this._updateLastFrozen()},_updateLastFrozen:function(){var t=this.columnTree[this.columnTree.length-1],e=t.reduce(function(t,e,s){return e._lastFrozen=!1,e.frozen&&!e.hidden?s:t},void 0);void 0!==e&&(t[e]._lastFrozen=!0)},_translateStationaryElements:function(){this.fixedSections?(this.$.items.style.transform=this._getTranslate3d(-this._scrollLeft||0,-this._scrollTop||0),this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate3d(-this._scrollLeft||0,0)):this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate3d(0,this._scrollTop);for(var t=this._getTranslate3d(this._scrollLeft,0),e=0;e<this._frozenCells.length;e++)this._frozenCells[e].style.transform=t},_getTranslate3d:function(t,e){return"translate3d("+t+"px,"+e+"px, 0)"}};</script>
</body></html>