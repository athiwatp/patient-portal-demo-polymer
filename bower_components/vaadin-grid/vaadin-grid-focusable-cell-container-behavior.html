<html><head><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.FocusableCellContainerBehavior={properties:{focused:{type:Boolean,reflectToAttribute:!0},_focusedRow:Object,_focusedRowIndex:Number,_focusedCell:Object,_focusedCellIndex:Number,_lastFocusedCell:Object},observers:["_announceFocusedCell(_focusedCell, focused)","_dispatchEvents(_focusedCell, focused)","_focusedCellChanged(_focusedRowIndex, _focusedCellIndex)"],_announceFocusedCell:function(e,s){if(this.domHost.navigating&&s){var t=e._cellContent.id;if("vaadin-grid-table-body"===this.is&&!e.hasAttribute("detailscell")){var o=Polymer.dom(e.parentElement).querySelectorAll("td").indexOf(e),i=this.domHost.$.header.lastElementChild,n=i.children[o];t=n._cellContent.id+" "+t}this._getFocusTrap().activeTarget=t}},_dispatchEvents:function(e,s){!this._lastFocusedCell&&s||(this._lastFocusedCell._cellContent.dispatchEvent(new CustomEvent("cell-focusout")),this._lastFocusedCell=void 0),s&&(e._cellContent.dispatchEvent(new CustomEvent("cell-focusin")),this._lastFocusedCell=e)},_focusedCellChanged:function(e,s){Polymer.dom(this).children.forEach(function(t,o){t.focused=o===e,t.focused&&(this._focusedRow=t,this._focusedCellIndex=Math.min(s,t.children.length-1),this._focusedCell=t.children[this._focusedCellIndex]),t.cells.forEach(function(e,s){e.focused=s===this._focusedCellIndex}.bind(this))}.bind(this))},_getFocusTrap:function(){switch(this.is){case"vaadin-grid-table-header":return this.domHost.$.headerFocusTrap;case"vaadin-grid-table-body":return this.domHost.$.bodyFocusTrap;case"vaadin-grid-table-footer":return this.domHost.$.footerFocusTrap}},focusLeft:function(){if(!this._focusedCell.hasAttribute("detailscell")){var e=this._visibleCellIndexes();if(e.length>0){var s=e.indexOf(this._focusedCellIndex);this._focusedCellIndex=e[Math.max(0,s-1)]}}},focusDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+1,this.children.length-1)},_visibleCellIndexes:function(){var e=[];if(this._focusedRow&&this._focusedRow.children){for(var s=this._focusedRow.children,t=0;t<s.length;t++)s[t].hidden||s[t]===this._focusedRow._rowDetailsCell||e.push(t);e.sort(function(e,t){return s[e].column._order<s[t].column._order?-1:1})}return e},focusPageDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+10,this.children.length-1)},focusPageUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-10)},focusRight:function(){if(!this._focusedCell.hasAttribute("detailscell")){var e=this._visibleCellIndexes();if(e.length>0){var s=e.indexOf(this._focusedCellIndex);this._focusedCellIndex=e[Math.min(s+1,e.length-1)]}}},focusUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-1)},focusHome:function(){if(!this._focusedCell.hasAttribute("detailscell")){var e=this._visibleCellIndexes();e.length>0&&(this._focusedCellIndex=e[0])}},focusEnd:function(){if(!this._focusedCell.hasAttribute("detailscell")){var e=this._visibleCellIndexes();e.length>0&&(this._focusedCellIndex=e[e.length-1])}},focusFirst:function(e){this._focusedRowIndex=0,this.focusHome()},focusLast:function(e){this._focusedRowIndex=this.children.length-1,this.focusEnd()}};</script>
</head><body></body></html>