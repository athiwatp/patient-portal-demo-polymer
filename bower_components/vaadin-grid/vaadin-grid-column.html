<html><head><link rel="import" href="../polymer/polymer.html">

</head><body><dom-module id="vaadin-grid-column">
</dom-module>

<dom-module id="vaadin-grid-column-group">
</dom-module>

<script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.ColumnBaseBehavior={properties:{headerTemplate:{type:Object,value:function(){return this._findTemplate("template.header")||null}},footerTemplate:{type:Object,value:function(){return this._findTemplate("template.footer")||null}},instances:{type:Array,value:function(){return[]}},frozen:{type:Boolean,notify:!0},_lastFrozen:{type:Boolean,notify:!0}},observers:["_footerTemplateChanged(footerTemplate)","_headerTemplateChanged(headerTemplate)","_lastFrozenChanged(_lastFrozen)"],_selectFirstTemplate:function(e){return Polymer.dom(this).querySelectorAll(e).filter(function(e){return e.parentElement===this}.bind(this))[0]},_findTemplate:function(e){var t=this._selectFirstTemplate(e);return t&&this.dataHost&&(t._rootDataHost=this.dataHost._rootDataHost||this.dataHost),t},_headerTemplateChanged:function(e){this.fire("property-changed",{path:"headerTemplate",value:e})},_footerTemplateChanged:function(e){this.fire("property-changed",{path:"footerTemplate",value:e})},_flexChanged:function(e){this.fire("property-changed",{path:"flex",value:e})},_widthChanged:function(e){this.fire("property-changed",{path:"width",value:e})},_lastFrozenChanged:function(e){this.fire("property-changed",{path:"lastFrozen",value:e})}},vaadin.elements.grid.ColumnBehaviorImpl={properties:{width:{type:String,value:"100px"},flex:{type:Number,value:1},template:{type:Object,value:function(){return this._findTemplate("template:not(.header):not(.footer)")}},hidden:{type:Boolean}},observers:["_flexChanged(flex)","_widthChanged(width)","_templateChanged(template)","_frozenChanged(frozen)","_hiddenChanged(hidden)"],_frozenChanged:function(e){this.fire("property-changed",{path:"frozen",value:e})},_templateChanged:function(e){this.fire("property-changed",{path:"template",value:e},{bubbles:!1})},_hiddenChanged:function(e){this.fire("property-changed",{path:"hidden",value:e})}},vaadin.elements.grid.ColumnBehavior=[vaadin.elements.grid.ColumnBaseBehavior,vaadin.elements.grid.ColumnBehaviorImpl],Polymer({is:"vaadin-grid-column",behaviors:[vaadin.elements.grid.ColumnBehavior]}),Polymer({is:"vaadin-grid-column-group",behaviors:[vaadin.elements.grid.ColumnBaseBehavior],properties:{_childColumns:{value:function(){return Polymer.dom(this).querySelectorAll("vaadin-grid-column, vaadin-grid-selection-column")}},flex:{type:Number,readOnly:!0},width:{type:String,readOnly:!0},_visibleChildColumns:Array,hidden:{type:Boolean,notify:!0,readOnly:!0},colSpan:{type:Number,notify:!0,readOnly:!0}},observers:["_updateVisibleChildColumns(_childColumns)","_childColumnsChanged(_childColumns)","_flexChanged(flex)","_widthChanged(width)","_frozenChanged(_childColumns, frozen)","_hiddenChanged(hidden)","_visibleChildColumnsChanged(_visibleChildColumns)","_colSpanChanged(colSpan)"],listeners:{"property-changed":"_columnPropChanged"},attached:function(){this._updateFlexAndWidth(this._visibleChildColumns),this._addNodeObserver()},detached:function(){Polymer.dom(this).unobserveNodes(this._observer)},_columnPropChanged:function(e){"hidden"===e.detail.path&&this._updateVisibleChildColumns(this._childColumns),/flex|width|hidden|_childColumns/.test(e.detail.path)&&this._updateFlexAndWidth(this._visibleChildColumns),"frozen"===e.detail.path&&(this.frozen=e.detail.value),"lastFrozen"===e.detail.path&&(this._lastFrozen=e.detail.value)},_updateVisibleChildColumns:function(e){this._visibleChildColumns=e.filter(function(e){return!e.hidden})},_childColumnsChanged:function(e){this.fire("property-changed",{path:"_childColumns",value:e})},_updateFlexAndWidth:function(e){this._setWidth("calc("+e.reduce(function(e,t){return e+=" + "+(t.width||"0").replace("calc","")},"").substring(3)+")"),this._setFlex(e.reduce(function(e,t){return e+t.flex},0))},_frozenChanged:function(e,t){e.forEach(function(e){e.frozen=t}),this.fire("property-changed",{path:"frozen",value:t})},_hiddenChanged:function(e){this.fire("property-changed",{path:"hidden",value:e})},_visibleChildColumnsChanged:function(e){this._setColSpan(e.length),this._setHidden(0===this.colSpan)},_colSpanChanged:function(e){this.fire("property-changed",{path:"colSpan",value:e})},_addNodeObserver:function(){this._observer=Polymer.dom(this).observeNodes(function(e){var t=function(e){return e.nodeType===Node.ELEMENT_NODE&&0===e.localName.indexOf("vaadin-grid-column")};(e.addedNodes.filter(t).length>0||e.removedNodes.filter(t).length>0)&&(this._childColumns=Polymer.dom(this).querySelectorAll("vaadin-grid-column"))}.bind(this))}});</script>
</body></html>